<app-header
  [fixed]="true"
  [navbarBrandFull]="{src: 'assets/img/brand/logo-black.png', width: 89, height: 25, alt: 'DoUtDes Logo'}"
  [navbarBrandMinimized]="{src: 'assets/img/brand/logo-black.png', width: 30, height: 30, alt: 'DoUtDes Logo'}"
  [sidebarToggler]="false"
  [asideMenuToggler]="false">

  <ul class="nav navbar-nav d-md-down-none mr-auto">
    <li class="nav-item px-3">
      <a class="nav-link" [routerLink]="['/register']">Sign In</a>
    </li>
    <li class="nav-item px-3">
      <a class="nav-link" [routerLink]="['/login']">Login</a>
    </li>
  </ul>
</app-header>
<div class="app-body">
  <main class="main d-flex align-items-center">
    <div class="container">
      <div class="row">
        <div class="col-md-8 mx-auto">
          <div class="card mx-4">
            <div class="card-body p-4">
              <h1 class="text-center">Register</h1>
              <p class="text-muted text-center">Create your account</p>

              <div class="form-inline mb-2">
                <label class="my-1 mr-2" for="userType">Type of user</label>
                <select (change)="selectChangeHandler($event)" class="custom-select my-1 mr-sm-2" id="userType">
                  <option value="company" selected>Company</option>
                  <option value="editor">Editor</option>
                  <option value="analyst">Analyst</option>
                </select>
              </div>

              <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">

                <!-- Vat Number and Company Name only for companies users -->
                <div *ngIf="this.selectedUser == 'company'">
                  <div class="form-row">
                    <div class="input-group mb-3 col-md-6">
                      <div class="input-group-prepend">
                        <span class="input-group-text"><i class="icon-briefcase"></i></span>
                      </div>
                      <input type="text" name="company_name" class="form-control" placeholder="Company Name" required>
                    </div>
                    <div class="input-group mb-3 col-md-6">
                      <div class="input-group-prepend">
                        <span class="input-group-text"><i class="icon-chart"></i></span>
                      </div>
                      <input type="text" name="vat_number" class="form-control" placeholder="Vat Number" required>
                    </div>
                  </div>
                </div>

                <div class="form-row">
                  <div class="input-group mb-4 col-md-6">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="icon-user"></i></span>
                    </div>
                    <input type="text" name="first_name" class="form-control" placeholder="First Name">
                  </div>
                  <div class="input-group mb-4 ml-auto col-md-6">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="icon-user"></i></span>
                    </div>
                    <input type="text" name="last_name" class="form-control" placeholder="Last Name">
                  </div>
                </div>
                <div class="form-row">
                  <div class="input-group mb-3 col-md-6">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="icon-location-pin"></i></span>
                    </div>
                    <input type="text" name="birth_place" class="form-control" placeholder="Birth Place">
                  </div>
                  <div class="input-group mb-3 col-md-6">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="icon-calendar"></i></span>
                    </div>
                    <input type="date" name="birth_date" class="form-control" placeholder="Birth Date">
                  </div>
                </div>
                <div class="form-row">
                  <div class="input-group mb-3 col-md-6">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="fas fa-user-tie"></i></span>
                    </div>
                    <input type="text" name="username" class="form-control" placeholder="Username">
                  </div>
                  <div class="input-group mb-3 col-md-6">
                    <div class="input-group-prepend">
                      <span class="input-group-text">@</span>
                    </div>
                    <input type="email" name="email" class="form-control" placeholder="Email">
                  </div>
                </div>

                <div class="form-row">
                  <div class="input-group mb-3 col-md-6">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="icon-lock"></i></span>
                    </div>
                    <input type="password" name="password" class="form-control" placeholder="Password">
                  </div>
                  <div class="input-group mb-4 col-md-6">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="icon-lock"></i></span>
                    </div>
                    <input type="password" name="r_password" class="form-control" placeholder="Repeat password">
                  </div>
                  <button [disabled]="loading" class="btn btn-block btn-success">Create Account</button>
                </div>
              </form>
            </div>

          </div>
        </div>
      </div>
    </div>
  </main>
</div>
<app-footer>
  <span><a href="http://www.doutdes-cluster.it">DoUtDes</a> &copy; 2018 UniCA.</span>
  <span class="ml-auto">Powered by <a href="https://www.unica.it/unica/it/dip_matinfo.page" target="_blank">
    Dipartimento di Matematica e Informatica</a></span>
</app-footer>
