<div class="row bg-white rounded p-4 title-header h-100">
  <div class="col-xl-8 col-lg-6 col-md-8">
    <img src="/assets/img/facebook-head.png" class="float-left"/> <!--TODO: create instagram-head?!-->
    <h1 class="display-4 my-auto float-left ml-3" style="color:#888">Instagram stats</h1>
  </div>
  <div *ngIf="isApiKeySet" class="col-xl-4 col-lg-6 col-md-4 my-auto">
    <div>
      <div class="btn-group float-right" dropdown>
        <button id="button-date-filter" dropdownToggle type="button" class="btn dropdown-toggle icon-card"
                aria-controls="dropdown-date-filter"><span class="caret">{{dateChoice}}</span>
        </button>

        <ul id="dropdown-date-filter" *dropdownMenu class="dropdown-menu dropdown-menu-right" role="menu"
            aria-labelledby="button-date-filter">
          <li class="dropdown-item" (click)="changeDateFilter(FILTER_DAYS.seven)">Last 7 days</li>
          <li class="dropdown-item" (click)="changeDateFilter(FILTER_DAYS.thirty)">Last 30 days</li>
          <li class="dropdown-item" (click)="changeDateFilter(FILTER_DAYS.ninety)">Last 90 days</li>
          <li class="dropdown-item">Custom</li>
        </ul>
      </div> <!-- TODO Create a component custom like card -->
      <input type="text" class="form-control float-right mr-3 filterDatePicker" #drp="bsDaterangepicker"
             [(ngModel)]="bsRangeValue"
             [minDate]="minDate"
             [maxDate]="maxDate"
             [bsConfig]="{ rangeInputFormat: 'DD/MM/YYYY' }"
             (bsValueChange)="onValueChange($event)"
             bsDaterangepicker>
      <!-- style="border: 1px solid gray; padding: 0.375rem 0.75rem; font-size: 0.875rem;line-height: 1.5; border-radius: 0.25rem;"-->
    </div>
  </div>
</div>

<div *ngIf="isApiKeySet" class="row" style="padding-bottom: 30px">
  <ng-container *ngIf="chartArray$.length > 0">
    <div *ngFor="let chart of chartArray$" class="col-lg-6 pt-3 order-xl-1 order-lg-1">
      <app-card [dashChart]="chart"></app-card>
    </div>
  </ng-container>

  <app-emptycard class="col-lg-6" [xlOrder]="3" [lgOrder]="5" [dashboard_data]="HARD_DASH_DATA"></app-emptycard>

  <ngx-loading [show]="loading" [config]="config"></ngx-loading>

  <!--<ng-template #noContent>
    <h5 class="col-md-12 mt-3">The dashboard is empty. Start adding the first Chart!</h5>
  </ng-template>-->
</div>

<div *ngIf="!isApiKeySet">
  <h3 class="text-danger m-2">You can't add charts to the dashboard</h3>
  <h4 class="m-3">First you need to login to Instagram via OAuth.</h4>
  <button class="btn btn-success ml-3" [routerLink]="['/preferences/api-keys']">Configure Data Sources</button>
</div>
